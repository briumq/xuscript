// 测试最终正确的结构体方法定义语法

// 枚举定义
Status with [ pending | approved | rejected ]

// 结构体定义 - 包含内部定义的方法
User has {
    name: string
    age: int
    status: Status = Status#pending
    
    // 实例方法
    func is_adult() -> bool {
        return self.age >= 18
    }
    
    func greet() {
        println("Hello, {self.name}!")
    }
    
    // 静态方法
    static func create(name: string, age: int = 0) -> User {
        return User{ name: name, age: age }
    }
}

// 主函数
func main() {
    println("=== 测试最终正确的结构体方法定义语法 ===")
    
    // 使用静态方法创建用户
    let adult = User.create("Alice", 20)
    adult.greet()
    println("{adult.name} is adult: {adult.is_adult()}")
    
    let minor = User.create("Bob", 16)
    minor.greet()
    println("{minor.name} is adult: {minor.is_adult()}")
}

// 调用主函数
main();