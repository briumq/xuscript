func assert(x, msg="Assertion failed") { __builtin_assert(x, msg) }

User has {
    name: string

    static func create(name: string) -> User {
        return User{ name: name }
    }
}

User does {
    func greet() -> string {
        return "Hi, {self.name}"
    }
}

let u = User.create("Tom")
assert(u.name == "Tom", "name")
assert(u.greet() == "Hi, Tom", "greet")

