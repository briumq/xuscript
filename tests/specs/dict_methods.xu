func assert(x) { __builtin_assert(x) }

let d: {string: int} = {}
d.insert("a", 1)
let got = d.get("a")
match got {
    Option#some(x) { assert(x == 1) }
    Option#none    { assert(false) }
    _ { assert(false) }
}
assert(d.contains("a"))
assert(d.length() == 1)
let other: {string: int} = {}
other.insert("b", 2)
d.merge(other)
assert(d.length() == 2)
let ks = d.keys()
assert(ks.length() == 2)
let vs = d.values()
assert(vs.length() == 2)
d.clear()
assert(d.length() == 0)
