# 边缘测试问题清单（初步语言分析）

## 运行方式
- 已纳入测试基线，默认随 `xu_runtime` runner 一起执行
- 如需临时跳过边缘套件：设置 `XU_TEST_EDGE=0` 后再运行 runner
- 套件定义位置：crates/xu_runtime/tests/runner.rs

## 已验证行为
- 列表：add/pop/reverse/clear/contains/join/filter/map 可用；索引访问可用；first 成员返回 Option
- 字典：get/get_int 返回 Option；merge 会覆盖同键旧值；contains/remove/clear 可用
- 集合：length 属性可用；remove 返回 bool
- 字符串：trim/to_upper/to_lower/split/replace/to_int/to_float/starts_with/ends_with 可用
- 范围：for i in 0..N 与 0..=N 均可用
- 元组：t.0 / t.1 成员访问可用
- 递归：函数递归（如 factorial）可用
- AST 与 VM 输出在当前边缘用例下等价（已验证）

## 待确认与注意
- Option 直接 print 会显示 Option#some/Option#none；建议用 match 解构再输出
- 字典 keys()/values() 的遍历顺序未定义（与插入/内部哈希有关），不依赖顺序进行断言
- 字符串 length 的 Unicode 计数语义（码点 vs 字节）需确认；目前未做断言，仅输出观察
- 递归深度与栈限制：暂未测试极端深度，后续需要边界压力测试
- 范围的负值与步进（例如 -3..=3、反向遍历）暂未覆盖

## 已知不支持/限制
- 枚举构造器上链式方法不支持：Option#none.or(7) 会触发解析错误（见 specs/enum_ctor_method_chain.invalid.xu）
- Option#or_else 支持零参数闭包（见 specs/option_or_else_zero_arg.xu），但 Option#or 方法不存在

## 用例列表
- edge_struct_method_cache.xu：基础算术输出，对 VM/AST 路径一致性做烟测
- edge_unicode_strings.xu：Unicode 文本 contains/split/length 的输出观察
- edge_recursion_factorial.xu：递归函数与返回值
- edge_large_list_join.xu：列表构建与 join 输出
- edge_option_chain.xu：用 match 解构 Option，避免直接打印造成语义差异
- edge_dict_merge_collision.xu：merge 同键覆盖后解构输出数值
- edge_range_inclusive.xu：验证 0..=N 含端点行为
- edge_tuple_access.xu：元组索引成员访问
