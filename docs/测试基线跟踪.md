# 测试基线跟踪（v1.1 英文版）

## 已纳入基线（tests/specs）
- 1. 字面量与基本类型：整数/浮点/字符串/布尔
- 2. 变量与作用域：let/var、let 绑定对象可修改
- 3. 运算符：算术（不含除零 panic）、比较、逻辑、字符串拼接
- 4. 字符串插值：简单/表达式/嵌套
- 5. 集合类型：列表/字典（不含各自 panic）；范围（0..b）
- 6. 函数：基本函数、默认参数
- 7. 控制流：if/while/for；match 语句（枚举简单/带数据/else）
- 9. 结构体：定义/实例化、方法
- 10. does 扩展：扩展方法与多块
- 11. 枚举：简单/带数据
- 17. 边界情况：空集合、嵌套结构、递归、深层控制流

## 暂未纳入（原因与后续接入建议）
- 2.3 未声明变量错误
  - 原因：当前测试 runner 不处理 `expect_error` 标记
  - 建议：扩展 runner 支持“期望编译错误”断言后加入
- 2.4 禁止遮蔽（shadowing）
  - 原因：语义检查未实现
  - 建议：在解析/运行时增加同名声明检测与错误码
- 3.1 除零 panic
  - 原因：当前测试 runner 不处理 `expect_panic`
  - 建议：runner 增加“期望 panic”断言或改为返回 Result 再断言
- 5.3 Set 集合
  - 原因：类型系统/运行时未实现 set{} 与集合方法
  - 建议：types/value/lexer/parser/executor 全链路接入后加入
- 5.4 元组
  - 原因：类型/值/解析缺失；多返回值依赖元组
  - 建议：先实现 Tuple 再补 6.3 多返回值与匹配/解构
- 5.5 范围含终点 0..=b
  - 原因：词法/解析未支持
  - 建议：lexer 增加 `..=` token，parser/执行器联动
- 6.3 多返回值
  - 原因：依赖元组
  - 建议：实现元组后补测
- 6.4/6.5 匿名函数表达式、6.6 闭包
  - 原因：表达式级 `func` 未支持；闭包捕获语义未落地
  - 建议：parser/IR/执行器接入 lambda 与捕获模型
- 7.6 match 表达式
  - 原因：当前实现为语句式分支
  - 建议：AST 增加表达式形式并在执行器返回值
- 7.9 match 元组与通配
  - 原因：依赖元组
  - 建议：实现元组后补测
- 8.x when 条件绑定
  - 原因：解析/执行未支持 `when x = expr, ... { } else { }`
  - 建议：parser/执行器接入条件绑定与短路语义
- 9.3 static 方法
  - 原因：`static` 修饰未支持
  - 建议：lexer/parser/方法分发接入静态成员
- 9.4 结构体展开 `...`
  - 原因：词法/解析/执行器未支持
  - 建议：lexer 增加 `...`，parser/执行器实现浅复制+覆盖
- 10.3 禁止扩展内置类型
  - 原因：规则未实现
  - 建议：does 扩展时校验仅允许扩展本模块自定义类型

## 英文化迁移（说明）
- 要求：后续不支持中文关键字与函数名；现有中文单测需统一替换为英文版本
- 范围：仓库内所有 *.xu 测试/示例/基准中的中文关键字/函数名
- 方法：依据 `crates/xu_lexer/src/keywords.rs` 的英文映射统一替换；函数/方法名统一为英文
- 验证：统一 runner 跑通 specs/edge/integration_en
