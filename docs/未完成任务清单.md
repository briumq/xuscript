# 未完成任务清单

更新时间：2026-01-28

## 状态标记
- Todo：未开始
- InProgress：进行中
- Done：已完成（完成后移动到“已完成归档”，保留来源与验收记录）

## 未完成（Todo / InProgress）

### 语言特性与语义
- [ ] **Set 集合与 `set{}` 字面量**（状态：Todo）
  - 验收：类型系统/运行时值/解析/基本方法与回归用例
  - 来源：[未完成功能跟踪列表.md:L13-L16](file:///Users/hencoo/projects/xuscript/docs/%E6%9C%AA%E5%AE%8C%E6%88%90%E5%8A%9F%E8%83%BD%E8%B7%9F%E8%B8%AA%E5%88%97%E8%A1%A8.md#L13-L16)，[测试基线跟踪.md:L26-L28](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md#L26-L28)，[Xu 语言测试用例 v1.1.md:L330-L345](file:///Users/hencoo/projects/xuscript/docs/Xu%20%E8%AF%AD%E8%A8%80%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%20v1.1.md#L330-L345)
- [ ] **元组与多返回值**（状态：Todo）
  - 验收：元组字面量、访问、解构、多返回值，并补齐回归用例
  - 来源：[未完成功能跟踪列表.md:L17-L20](file:///Users/hencoo/projects/xuscript/docs/%E6%9C%AA%E5%AE%8C%E6%88%90%E5%8A%9F%E8%83%BD%E8%B7%9F%E8%B8%AA%E5%88%97%E8%A1%A8.md#L17-L20)，[测试基线跟踪.md:L29-L37](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md#L29-L37)，[Xu 语言测试用例 v1.1.md:L347-L363](file:///Users/hencoo/projects/xuscript/docs/Xu%20%E8%AF%AD%E8%A8%80%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%20v1.1.md#L347-L363)
- [ ] **范围含终点 `0..=b`**（状态：Todo）
  - 验收：新增 token/解析/执行并补测覆盖
  - 来源：[测试基线跟踪.md:L32-L34](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md#L32-L34)
- [ ] **匿名函数表达式与闭包**（状态：Todo）
  - 验收：表达式级匿名函数可作为值传递；捕获语义可用；回归用例覆盖
  - 来源：[测试基线跟踪.md:L38-L40](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md#L38-L40)，[Xu 语言规范 v1.1.md:L317-L343](file:///Users/hencoo/projects/xuscript/docs/Xu%20%E8%AF%AD%E8%A8%80%E8%A7%84%E8%8C%83%20v1.1.md#L317-L343)，[Xu 语言测试用例 v1.1.md:L1302-L1306](file:///Users/hencoo/projects/xuscript/docs/Xu%20%E8%AF%AD%E8%A8%80%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%20v1.1.md#L1302-L1306)
- [ ] **match 表达式**（状态：Todo）
  - 验收：`match` 可返回值且类型一致；回归用例覆盖
  - 来源：[测试基线跟踪.md:L41-L43](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md#L41-L43)，[Xu 语言规范 v1.1.md:L386-L409](file:///Users/hencoo/projects/xuscript/docs/Xu%20%E8%AF%AD%E8%A8%80%E8%A7%84%E8%8C%83%20v1.1.md#L386-L409)
- [ ] **match 元组与通配**（状态：Todo）
  - 验收：元组与通配 `_` 的模式匹配可用并补测
  - 来源：[测试基线跟踪.md:L44-L46](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md#L44-L46)
- [ ] **when 条件绑定**（状态：Todo）
  - 验收：支持 `when x = expr, ... { } else { }` 且短路语义正确；回归用例覆盖
  - 来源：[测试基线跟踪.md:L47-L49](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md#L47-L49)，[Xu 语言测试用例 v1.1.md:L740-L773](file:///Users/hencoo/projects/xuscript/docs/Xu%20%E8%AF%AD%E8%A8%80%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%20v1.1.md#L740-L773)
- [ ] **static 方法**（状态：Todo）
  - 验收：`static func` 解析/分发/调用可用并补测
  - 来源：[测试基线跟踪.md:L50-L52](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md#L50-L52)，[Xu 语言测试用例 v1.1.md:L838-L856](file:///Users/hencoo/projects/xuscript/docs/Xu%20%E8%AF%AD%E8%A8%80%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%20v1.1.md#L838-L856)
- [ ] **结构体展开 `...`**（状态：Todo）
  - 验收：支持浅复制 + 覆盖字段并补测
  - 来源：[测试基线跟踪.md:L53-L55](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md#L53-L55)
- [ ] **禁止扩展内置类型**（状态：Todo）
  - 验收：内置类型无法被 does 扩展；报错信息稳定；补测覆盖
  - 来源：[测试基线跟踪.md:L56-L58](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md#L56-L58)，[Xu 语言测试用例 v1.1.md:L924-L933](file:///Users/hencoo/projects/xuscript/docs/Xu%20%E8%AF%AD%E8%A8%80%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%20v1.1.md#L924-L933)，[Xu 语言规范 v1.1.md:L223-L227](file:///Users/hencoo/projects/xuscript/docs/Xu%20%E8%AF%AD%E8%A8%80%E8%A7%84%E8%8C%83%20v1.1.md#L223-L227)
- [ ] **禁止变量遮蔽（shadowing）**（状态：Todo）
  - 验收：同一作用域链上重复声明给出确定错误；覆盖 block/函数参数/for 变量等用例
  - 来源：[未完成功能跟踪列表.md:L21-L24](file:///Users/hencoo/projects/xuscript/docs/%E6%9C%AA%E5%AE%8C%E6%88%90%E5%8A%9F%E8%83%BD%E8%B7%9F%E8%B8%AA%E5%88%97%E8%A1%A8.md#L21-L24)，[测试基线跟踪.md:L20-L22](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md#L20-L22)，[Xu 语言测试用例 v1.1.md:L118-L139](file:///Users/hencoo/projects/xuscript/docs/Xu%20%E8%AF%AD%E8%A8%80%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%20v1.1.md#L118-L139)
- [ ] **inner 可见性语义约束**（状态：Todo）
  - 验收：模块导出时不暴露 inner 符号；外部访问 inner 成员时报错且信息稳定
  - 来源：[Xu 语言测试用例 v1.1.md:L1248-L1275](file:///Users/hencoo/projects/xuscript/docs/Xu%20%E8%AF%AD%E8%A8%80%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%20v1.1.md#L1248-L1275)
- [ ] **枚举端到端用例补齐**（状态：Todo）
  - 验收：按规范风格补齐 E2E 测试与文档示例
  - 来源：[未完成功能跟踪列表.md:L25-L28](file:///Users/hencoo/projects/xuscript/docs/%E6%9C%AA%E5%AE%8C%E6%88%90%E5%8A%9F%E8%83%BD%E8%B7%9F%E8%B8%AA%E5%88%97%E8%A1%A8.md#L25-L28)

### 测试门禁与回归
- [ ] **Runner 支持 `[expect_error: \"...\"]`**（状态：Todo）
  - 验收：标记用例在期望失败时通过；错误消息包含指定片段；不影响普通用例
  - 来源：[测试基线跟踪.md:L17-L19](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md#L17-L19)，[Xu 语言测试用例 v1.1.md:L1500-L1501](file:///Users/hencoo/projects/xuscript/docs/Xu%20%E8%AF%AD%E8%A8%80%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%20v1.1.md#L1500-L1501)
- [ ] **Runner 支持 `[expect_panic: \"...\"]`**（状态：Todo）
  - 验收：标记用例在期望运行失败时通过；错误消息包含指定片段；不影响普通用例
  - 来源：[测试基线跟踪.md:L23-L25](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md#L23-L25)，[Xu 语言测试用例 v1.1.md:L1500-L1501](file:///Users/hencoo/projects/xuscript/docs/Xu%20%E8%AF%AD%E8%A8%80%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%20v1.1.md#L1500-L1501)
- [ ] **将更多 specs 纳入基线**（状态：Todo）
  - 验收：移除临时收敛策略，按目录/清单纳入并保持 CI 稳定
  - 来源：[测试基线跟踪.md](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md)

### 迁移与流程
- [ ] **英文测试迁移（全仓 `*.xu`）**（状态：Todo）
  - 验收：仓库内 `*.xu` 不再出现中文关键字/函数名；回归通过
  - 来源：[英文测试迁移清单.md:L3-L20](file:///Users/hencoo/projects/xuscript/docs/%E8%8B%B1%E6%96%87%E6%B5%8B%E8%AF%95%E8%BF%81%E7%A7%BB%E6%B8%85%E5%8D%95.md#L3-L20)，[测试基线跟踪.md:L60-L64](file:///Users/hencoo/projects/xuscript/docs/%E6%B5%8B%E8%AF%95%E5%9F%BA%E7%BA%BF%E8%B7%9F%E8%B8%AA.md#L60-L64)
- [ ] **CI 未实现项扫描脚本**（状态：Todo）
  - 验收：CI 能提示规范缺口（类型/字面量/语义约束等），输出稳定且不误报核心路径
  - 来源：[未完成功能跟踪列表.md:L30-L33](file:///Users/hencoo/projects/xuscript/docs/%E6%9C%AA%E5%AE%8C%E6%88%90%E5%8A%9F%E8%83%BD%E8%B7%9F%E8%B8%AA%E5%88%97%E8%A1%A8.md#L30-L33)

## 已完成归档（Done）
- 暂无
